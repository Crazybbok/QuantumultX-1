mixed-port: 7890

allow-lan: false

bind-address: '*'

mode: rule

log-level: info

ipv6: false

external-controller: 127.0.0.1:9090

hosts:
  'mtalk.google.com': 108.177.125.188

dns:
  enable: false
  listen: 0.0.0.0:53

default-nameserver:
    - 119.29.29.29
    - 1.0.0.1
  enhanced-mode: redir-host # or fake-ip
  fake-ip-range: 198.18.0.1/16 # Fake IP addresses pool CIDR
  
  nameserver:
    - 119.29.29.29

fallback:
    - https://cloudflare-dns.com/dns-query

  fallback-filter:
    geoip: true
    ipcidr:

proxies:

proxy-providers:

  香港: 
    type: http
    url: "https://duckduckgo.security/user/sub.php?token=DivineEngine"
    interval: 3600
    path: ./Proxy/香港.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
      
  台湾: 
    type: http
    url: "https://duckduckgo.security/user/sub.php?token=DivineEngine"
    interval: 3600
    path: ./Proxy/台湾.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
      
 日本: 
    type: http
    url: "https://duckduckgo.security/user/sub.php?token=DivineEngine"
    interval: 3600
    path: ./Proxy/日本.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
      
  韩国: 
    type: http
    url: "https://duckduckgo.security/user/sub.php?token=DivineEngine"
    interval: 3600
    path: ./Proxy/韩国.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
      
  新加坡: 
    type: http
    url: "https://duckduckgo.security/user/sub.php?token=DivineEngine"
    interval: 3600
    path: ./Proxy/新加坡.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
      
   美国: 
    type: http
    url: "https://duckduckgo.security/user/sub.php?token=DivineEngine"
    interval: 3600
    path: ./Proxy/美国.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
      
  特殊: 
    type: http
    url: "https://duckduckgo.security/user/sub.php?token=DivineEngine"
    interval: 3600
    path: ./Proxy/特殊.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204
      
  IPLC: 
    type: http
    url: "https://duckduckgo.security/user/sub.php?token=DivineEngine"
    interval: 3600
    path: ./Proxy/IPLC.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

proxy-groups:
  - name: "节点选择"
    type: select
    proxies:
      - 香港
      - 台湾
      - 日本
      - 韩国
      - 新加坡
      - 美国
      - 特殊
      - IPLC
      
  - name: "电报代理"
    type: select
    proxies:
      - 新加坡
      - IPLC
      - 节点选择
      - DIRECT
      
  - name: "网飞影视"
    type: select
    proxies:
      - 新加坡
      - 香港
      - 台湾
      - 节点选择

  - name: "国际媒体"
    type: select
    proxies:
      - 香港
      - 台湾
      - 日本
      - 韩国
      - 新加坡
      - 美国
      - 特殊

  - name: "港台番剧"
    type: select
    proxies:
      - 香港
      - 台湾
      - DIRECT
      
  - name: "苹果服务"
    type: select
    proxies:
      - DIRECT
      - 香港
      - 台湾
      - 日本
      - 韩国
      - 新加坡
      - 美国
      
   - name: "全球加速"
    type: select
    proxies:
      - 节点选择
      - 香港
      - 台湾
      - 日本
      - 韩国
      - 新加坡
      - 美国
      - 特殊
      - IPLC


  - name: "黑白名单"
    type: select
    proxies:
      - 节点选择
      - DIRECT

  - name: "香港"
    type: select
    use:
      - 香港-Sub
      
  - name: "台湾"
    type: select
    use:
      - 台湾-Sub      
      
  - name: "日本"
    type: select
    use:
      - 日本-Sub
      
  - name: "韩国"
    type: select
    use:
      - 韩国-Sub 
      
  - name: "新加坡"
    type: select
    use:
      - 新加坡-Sub
      
  - name: "美国"
    type: select
    use:
      - 美国-Sub
      
  - name: "特殊"
    type: select
    use:
      - 特殊-Sub 
      
  - name: "IPLC"
    type: select # 亦可使用 fallback 或 load-balance
    use:
      - IPLC-Sub

rule-providers:

  Unbreak:
    type: http
    behavior: classical
    path: ./RuleSet/Unbreak.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Unbreak.yaml
    interval: 86400

  Advertising:
    type: http
    behavior: classical
    path: ./RuleSet/Guard/Advertising.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Advertising.yaml
    interval: 86400
    
  Hijacking:
    type: http
    behavior: classical
    path: ./RuleSet/Guard/Hijacking.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Hijacking.yaml
    interval: 86400

  Privacy:
    type: http
    behavior: classical
    path: ./RuleSet/Guard/Privacy.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Guard/Privacy.yaml
    interval: 86400

  电报代理:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/Telegram/Telegram.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Telegram/Telegram.yaml
    interval: 86400

  巴哈姆特:
    type: http
    behavior: classical
    path: ./RuleSet/StreamingMedia/Video/Bahamut.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/Video/Bahamut.yaml
    interval: 86400

  网飞影视:
    type: http
    behavior: classical
    path: ./RuleSet/StreamingMedia/Video/Netflix.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/Video/Netflix.yaml
    interval: 86400

  国际媒体:
    type: http
    behavior: classical
    path: ./RuleSet/StreamingMedia/Streaming.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/Streaming.yaml
    interval: 86400

  港台番剧:
    type: http
    behavior: classical
    path: ./RuleSet/StreamingMedia/StreamingSE.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/StreamingMedia/StreamingSE.yaml
    interval: 86400

  全球加速:
    type: http
    behavior: classical
    path: ./RuleSet/Global.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Global.yaml
    interval: 86400

  苹果服务:
    type: http
    behavior: classical
    path: ./RuleSet/Extra/Apple/Apple.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Apple/Apple.yaml
    interval: 86400

  国内网站:
    type: http
    behavior: classical
    path: ./RuleSet/China.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/China.yaml
    interval: 86400

  ChinaIP:
    type: http
    behavior: ipcidr
    path: ./RuleSet/Extra/ChinaIP.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/ChinaIP.yaml
    interval: 86400

# 规则
rules:

  - RULE-SET,Unbreak,DIRECT
  
  - RULE-SET,Advertising,REJECT
  
  - RULE-SET,Hijacking,REJECT
  
  - RULE-SET,Privacy,REJECT
  
  - RULE-SET,电报代理,新加坡
  
  - RULE-SET,巴哈姆特,台湾
  
  - RULE-SET,网飞影视,新加坡

  - RULE-SET,国际媒体,国际媒体

  - RULE-SET,港台番剧,港台番剧

  - RULE-SET,全球加速,全球加速
  
  - RULE-SET,苹果服务,苹果服务

  - RULE-SET,国内网站,DIRECT

  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT
  - IP-CIDR,224.0.0.0/4,DIRECT

  - IP-CIDR,119.28.28.28/32,DIRECT
  - IP-CIDR,182.254.116.0/24,DIRECT
  
  - GEOIP,CN,DIRECT

  - MATCH,黑白名单
